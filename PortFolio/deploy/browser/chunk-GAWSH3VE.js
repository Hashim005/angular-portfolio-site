import{C as B,D as te,E as $,F as U,G as W,H as Z,I as J,J as ne,L as ie,f as D,g as f,h as O,i as L,j as q,k as j,l as H,m as R,n as ee,o as I,q as E,r as z,s as G,t as Q}from"./chunk-3FKMM36V.js";import{Db as C,Ec as V,Fb as g,Gb as d,Hc as Y,Ob as a,Pb as T,Qb as h,Rb as P,Sb as w,Tb as A,Za as r,_a as x,aa as k,fa as K,ja as y,ka as N,mb as s,qb as l,sa as _,ta as b,vb as M,wb as F,xb as i,yb as n,zb as u}from"./chunk-XPCOFF6R.js";var fe=(t,m)=>m.name;function _e(t,m){t&1&&(i(0,"span"),a(1,"name is required"),n())}function be(t,m){t&1&&(i(0,"span"),a(1,"minimum 10 letter"),n())}function ge(t,m){if(t&1&&(i(0,"span",28),s(1,_e,2,0,"span",29)(2,be,2,0,"span",29),n()),t&2){let e=d();r(),l("ngIf",e.form.name.errors==null?null:e.form.name.errors.required),r(),l("ngIf",e.form.name.errors==null?null:e.form.name.errors.minlength)}}function ve(t,m){t&1&&(i(0,"span"),a(1,"Name is required"),n())}function xe(t,m){t&1&&(i(0,"span"),a(1,"User type minimum 20 letter"),n())}function Ce(t,m){if(t&1&&(i(0,"span",28),s(1,ve,2,0,"span",29)(2,xe,2,0,"span",29),n()),t&2){let e=d();r(),l("ngIf",e.form.jobTitle.errors==null?null:e.form.jobTitle.errors.required),r(),l("ngIf",e.form.jobTitle.errors==null?null:e.form.jobTitle.errors.minlength)}}function he(t,m){t&1&&(i(0,"span"),a(1,"about is required"),n())}function Se(t,m){if(t&1&&(i(0,"span",28),s(1,he,2,0,"span",29),n()),t&2){let e=d();r(),l("ngIf",e.form.about.errors==null?null:e.form.about.errors.required)}}function Ie(t,m){t&1&&(i(0,"span"),a(1,"Experience is required"),n())}function Ee(t,m){if(t&1&&(i(0,"span",28),s(1,Ie,2,0,"span",29),n()),t&2){let e=d();r(),l("ngIf",e.form.experience.errors==null?null:e.form.experience.errors.required)}}function ke(t,m){t&1&&(i(0,"span"),a(1,"skills is required"),n())}function ye(t,m){if(t&1&&(i(0,"span",28),s(1,ke,2,0,"span",29),n()),t&2){let e=d();r(),l("ngIf",e.form.skills.errors==null?null:e.form.skills.errors.required)}}function Ne(t,m){if(t&1){let e=C();i(0,"button",30),g("click",function(){_(e);let o=d();return b(o.onEditCancel())}),a(1,"Cancel"),n()}}function Me(t,m){if(t&1){let e=C();i(0,"tr")(1,"th",33),a(2),n(),i(3,"td"),a(4),n(),i(5,"td")(6,"i",34),g("click",function(){let o=_(e).$implicit,p=d(2);return b(p.onEdit(o))}),n()(),i(7,"td")(8,"i",35),g("click",function(){let o=_(e).$implicit,p=d(2);return b(p.deletePortFolioItem(o.id))}),n()()()}if(t&2){let e=m.$implicit,c=m.$index;r(2),T(c+1),r(2),h(" ",e.name," ")}}function Fe(t,m){if(t&1&&(i(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),a(4,"No"),n(),i(5,"th",32),a(6,"Name"),n(),i(7,"th",32),a(8,"Edit"),n(),i(9,"th",32),a(10,"Delete"),n()()(),i(11,"tbody"),M(12,Me,9,2,"tr",null,fe),n()()),t&2){let e=d();r(12),F(e.profileDetails)}}var oe=(()=>{class t{uerService;router;fb;portFolioForm;profileDetails=[];editMode=!1;currentPortfolioId=null;active=1;constructor(e,c,o){this.uerService=e,this.router=c,this.fb=o,this.getProfileDetails()}ngOnInit(){this.portFolioForm=this.fb.group({name:["",[f.required]],jobTitle:["",f.required],about:["",[f.required]],experience:["",f.required],skills:["",f.required]})}get form(){return this.portFolioForm.controls}logout(){this.uerService.logout(),this.router.navigate(["/login"])}onSubmit(){if(this.portFolioForm.valid){let e=new FormData;e.append("name",this.portFolioForm.get("name")?.value),e.append("jobTitle",this.portFolioForm.get("jobTitle")?.value),e.append("about",this.portFolioForm.get("about")?.value),e.append("experience",this.portFolioForm.get("experience")?.value),e.append("skills",this.portFolioForm.get("skills")?.value);let c=e.get("skills"),o=c?c.split(",").map(v=>v.trim()):[],p={name:e.get("name"),jobTitle:e.get("jobTitle"),about:e.get("about"),experience:e.get("experience"),skills:o};this.editMode&&this.currentPortfolioId?(p.id=this.currentPortfolioId,this.uerService.updatePortFolioItem(p).subscribe(v=>{console.log("port folio successfully updated...",v),this.resetForm()})):this.uerService.AddPortFolio(p).subscribe(v=>{console.log("port folio item added successfully",v),this.resetForm()})}}onEdit(e){this.editMode=!0,this.currentPortfolioId=e.id,this.portFolioForm.patchValue({name:e.name,jobTitle:e.jobTitle,about:e.about,experience:e.experience,skills:e.skills.join(", ")})}getProfileDetails(){this.uerService.getPortFolioDetails().subscribe(e=>{this.profileDetails=e})}resetForm(){this.portFolioForm.reset(),this.editMode=!1,this.currentPortfolioId=null,this.getProfileDetails()}onEditCancel(){this.resetForm()}deletePortFolioItem(e){this.uerService.deletePortFolioItem(e).subscribe(c=>{console.log("profile to be deleted"),this.getProfileDetails()})}static \u0275fac=function(c){return new(c||t)(x(I),x(E),x(R))};static \u0275cmp=y({type:t,selectors:[["app-admin-home"]],decls:51,vars:15,consts:[["nav","ngbNav"],[1,"container"],["ngbNav","",1,"nav","nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink","","routerLink","/admin/admin-home","routerLinkActive","active"],[1,"bi","bi-house"],["ngbNavLink","","routerLink","/admin/contact","routerLinkActive","active"],[1,"bi","bi-envelope"],[1,"admin"],["ngbNavLink","","routerLinkActive","active",3,"click"],[1,"port-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text",1,"form-control"],["class","error-message",4,"ngIf"],["for","jobTitle"],["id","jobTitle","formControlName","jobTitle","type","text",1,"form-control"],["for","about"],["id","about","formControlName","about",1,"form-control"],["for","experience"],["id","experience","formControlName","experience","type","text",1,"form-control"],["for","skills"],["id","skills","formControlName","skills","type","text",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[1,"port-table"],["class","table table-striped",4,"ngIf"],[1,"error-message"],[4,"ngIf"],["type","button",1,"btn-cancel",3,"click"],[1,"table","table-striped"],["scope","col"],["scope","row"],[1,"bi","bi-pencil-square",3,"click"],[1,"bi","bi-trash3",3,"click"]],template:function(c,o){if(c&1){let p=C();i(0,"div",1)(1,"ul",2,0),A("activeIdChange",function(S){return _(p),w(o.active,S)||(o.active=S),b(S)}),i(3,"li",3)(4,"button",4),u(5,"i",5),a(6," Home "),n()(),i(7,"li",3)(8,"button",6),u(9,"i",7),a(10," Contact "),n()(),i(11,"div",8)(12,"li",3)(13,"button",9),g("click",function(){return _(p),b(o.logout())}),i(14,"mat-icon"),a(15,"exit_to_app"),n(),a(16," Logout "),n()()()(),i(17,"div",10)(18,"h2"),a(19),n(),i(20,"form",11),g("ngSubmit",function(){return _(p),b(o.onSubmit())}),i(21,"div",12)(22,"label",13),a(23,"Name:"),n(),u(24,"input",14),s(25,ge,3,2,"span",15),n(),i(26,"div",12)(27,"label",16),a(28,"Job Title:"),n(),u(29,"input",17),s(30,Ce,3,2,"span",15),n(),i(31,"div",12)(32,"label",18),a(33,"About:"),n(),u(34,"textarea",19),s(35,Se,2,1,"span",15),n(),i(36,"div",12)(37,"label",20),a(38,"Experience:"),n(),u(39,"input",21),s(40,Ee,2,1,"span",15),n(),i(41,"div",12)(42,"label",22),a(43,"Skills (comma separated):"),n(),u(44,"input",23),s(45,ye,2,1,"span",15),n(),i(46,"button",24),a(47),n(),s(48,Ne,2,0,"button",25),n()(),i(49,"div",26),s(50,Fe,14,0,"table",27),n()()}c&2&&(r(),P("activeId",o.active),r(2),l("ngbNavItem",1),r(4),l("ngbNavItem",2),r(5),l("ngbNavItem",4),r(7),h(" ",o.editMode?"Edit PortFolio":"Add PortFolio"," "),r(),l("formGroup",o.portFolioForm),r(5),l("ngIf",o.form.name.invalid&&o.form.name.touched),r(5),l("ngIf",o.form.jobTitle.invalid&&o.form.jobTitle.touched),r(5),l("ngIf",o.form.about.invalid&&o.form.about.touched||o.form.about.dirty),r(5),l("ngIf",o.form.experience.invalid&&o.form.experience.touched||o.form.experience.dirty),r(5),l("ngIf",o.form.skills.invalid&&o.form.skills.touched||o.form.skills.dirty),r(),l("disabled",o.portFolioForm.invalid),r(),h(" ",o.editMode?"Update":"Submit"," "),r(),l("ngIf",o.editMode),r(2),l("ngIf",o.profileDetails.length>0))},dependencies:[V,z,G,B,W,U,$,J,Z,q,D,O,L,j,H],styles:["mat-icon[_ngcontent-%COMP%]{margin-right:8px}button[_ngcontent-%COMP%]{display:flex}.port-table[_ngcontent-%COMP%]{margin-top:50px}.port-form[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif}.port-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:#d9534f;font-size:.9em;margin-top:5px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-submit[_ngcontent-%COMP%]:hover:enabled{background-color:#0056b3}.btn-cancel[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;margin-top:10px;transition:background-color .3s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}return t})();var re=(t,m)=>{let e=K(I),c=K(E),o=e.getCurrentUser();return o&&o.role==="admin"?!0:(c.navigate(["/login"]),!1)};var Te=(t,m)=>m.name;function Pe(t,m){t&1&&(i(0,"span"),a(1,"Name is required"),n())}function we(t,m){t&1&&(i(0,"span"),a(1,"Name must be at least 5 characters long"),n())}function Ae(t,m){if(t&1&&(i(0,"span",26),s(1,Pe,2,0,"span",27)(2,we,2,0,"span",27),n()),t&2){let e=d();r(),l("ngIf",e.form.name.errors==null?null:e.form.name.errors.required),r(),l("ngIf",e.form.name.errors==null?null:e.form.name.errors.minlength)}}function Ve(t,m){t&1&&(i(0,"span"),a(1,"Email is required"),n())}function De(t,m){t&1&&(i(0,"span"),a(1,"Please enter a valid email address"),n())}function Oe(t,m){if(t&1&&(i(0,"span",26),s(1,Ve,2,0,"span",27)(2,De,2,0,"span",27),n()),t&2){let e=d();r(),l("ngIf",e.form.email.errors==null?null:e.form.email.errors.required),r(),l("ngIf",e.form.email.errors==null?null:e.form.email.errors.pattern)}}function Le(t,m){t&1&&(i(0,"span"),a(1,"Phone number is required"),n())}function qe(t,m){t&1&&(i(0,"span"),a(1,"Please enter a valid 10-digit phone number"),n())}function je(t,m){if(t&1&&(i(0,"span",26),s(1,Le,2,0,"span",27)(2,qe,2,0,"span",27),n()),t&2){let e=d();r(),l("ngIf",e.form.phone.errors==null?null:e.form.phone.errors.required),r(),l("ngIf",e.form.phone.errors==null?null:e.form.phone.errors.pattern)}}function He(t,m){t&1&&(i(0,"span"),a(1,"Message is required"),n())}function Re(t,m){t&1&&(i(0,"span"),a(1,"Message must be at least 10 characters long"),n())}function ze(t,m){if(t&1&&(i(0,"span",26),s(1,He,2,0,"span",27)(2,Re,2,0,"span",27),n()),t&2){let e=d();r(),l("ngIf",e.form.message.errors==null?null:e.form.message.errors.required),r(),l("ngIf",e.form.message.errors==null?null:e.form.message.errors.minlength)}}function Ge(t,m){if(t&1){let e=C();i(0,"button",28),g("click",function(){_(e);let o=d();return b(o.onEditCancel())}),a(1,"Cancel"),n()}}function Be(t,m){if(t&1){let e=C();i(0,"tr")(1,"th",31),a(2),n(),i(3,"td"),a(4),n(),i(5,"td")(6,"i",32),g("click",function(){let o=_(e).$implicit,p=d(2);return b(p.onEdit(o))}),n()(),i(7,"td")(8,"i",33),g("click",function(){let o=_(e).$implicit,p=d(2);return b(p.deleteContactDetails(o.id))}),n()()()}if(t&2){let e=m.$implicit,c=m.$index;r(2),T(c+1),r(2),h(" ",e.name," ")}}function $e(t,m){if(t&1&&(i(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),a(4,"No"),n(),i(5,"th",30),a(6,"Name"),n(),i(7,"th",30),a(8,"Edit"),n(),i(9,"th",30),a(10,"Delete"),n()()(),i(11,"tbody"),M(12,Be,9,2,"tr",null,Te),n()()),t&2){let e=d();r(12),F(e.contactDetails)}}var ae=(()=>{class t{uerService;router;fb;contactDetails=[];contactForm;editMode=!1;currentPortfolioId=null;active=1;constructor(e,c,o){this.uerService=e,this.router=c,this.fb=o,this.getContactDetails()}ngOnInit(){this.contactForm=this.fb.group({name:["",[f.required,f.minLength(5)]],email:["",[f.required,f.pattern("[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}")]],phone:["",[f.required,f.pattern(/^[0-9]{10}$/)]],message:["",[f.required,f.minLength(10)]]})}get form(){return this.contactForm.controls}getContactDetails(){this.uerService.getContactDetails().subscribe(e=>{this.contactDetails=e})}onSubmit(){if(this.contactForm.valid){let e=this.contactForm.value;this.editMode&&this.currentPortfolioId?(e.id=this.currentPortfolioId,this.uerService.updateContactDetails(e).subscribe(c=>{this.resetForm()})):this.uerService.addContactDetails(e).subscribe(c=>{this.resetForm()})}}resetForm(){this.contactForm.reset(),this.editMode=!1,this.currentPortfolioId=null,this.getContactDetails()}onEditCancel(){this.resetForm()}onEdit(e){this.editMode=!0,this.currentPortfolioId=e.id,this.contactForm.patchValue({name:e.name,email:e.email,phone:e.phone,message:e.message})}deleteContactDetails(e){this.uerService.deleteContactDetails(e).subscribe(c=>{this.getContactDetails()})}logout(){this.uerService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(c){return new(c||t)(x(I),x(E),x(R))};static \u0275cmp=y({type:t,selectors:[["app-contact"]],decls:46,vars:14,consts:[["nav","ngbNav"],[1,"container"],["ngbNav","",1,"nav","nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink","","routerLink","/admin/admin-home","routerLinkActive","active"],[1,"bi","bi-house"],["ngbNavLink","","routerLink","/admin/contact","routerLinkActive","active"],[1,"bi","bi-envelope"],[1,"admin"],["ngbNavLink","","routerLinkActive","active",3,"click"],[1,"contact-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["id","email","formControlName","email","type","email",1,"form-control"],["for","phone"],["id","phone","formControlName","phone","type","text",1,"form-control"],["for","message"],["id","message","formControlName","message",1,"form-control"],["type","submit",1,"btn-submit",3,"disabled"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[1,"contact-list"],["class","table table-striped",4,"ngIf"],[1,"error-message"],[4,"ngIf"],["type","button",1,"btn-cancel",3,"click"],[1,"table","table-striped"],["scope","col"],["scope","row"],[1,"bi","bi-pencil-square",3,"click"],[1,"bi","bi-trash3",3,"click"]],template:function(c,o){if(c&1){let p=C();i(0,"div",1)(1,"ul",2,0),A("activeIdChange",function(S){return _(p),w(o.active,S)||(o.active=S),b(S)}),i(3,"li",3)(4,"button",4),u(5,"i",5),a(6," Home "),n()(),i(7,"li",3)(8,"button",6),u(9,"i",7),a(10," Contact "),n()(),i(11,"div",8)(12,"li",3)(13,"button",9),g("click",function(){return _(p),b(o.logout())}),i(14,"mat-icon"),a(15,"exit_to_app"),n(),a(16," Logout "),n()()()(),i(17,"div",10)(18,"form",11),g("ngSubmit",function(){return _(p),b(o.onSubmit())}),i(19,"h2"),a(20),n(),i(21,"div",12)(22,"label",13),a(23,"Name:"),n(),u(24,"input",14),s(25,Ae,3,2,"span",15),n(),i(26,"div",12)(27,"label",16),a(28,"Email:"),n(),u(29,"input",17),s(30,Oe,3,2,"span",15),n(),i(31,"div",12)(32,"label",18),a(33,"Phone:"),n(),u(34,"input",19),s(35,je,3,2,"span",15),n(),i(36,"div",12)(37,"label",20),a(38,"Message:"),n(),u(39,"textarea",21),s(40,ze,3,2,"span",15),n(),i(41,"button",22),a(42),n(),s(43,Ge,2,0,"button",23),n()(),i(44,"div",24),s(45,$e,14,0,"table",25),n()()}c&2&&(r(),P("activeId",o.active),r(2),l("ngbNavItem",1),r(4),l("ngbNavItem",2),r(5),l("ngbNavItem",4),r(6),l("formGroup",o.contactForm),r(2),h(" ",o.editMode?"Edit Contact":"Add Contact"," "),r(5),l("ngIf",o.form.name.invalid&&o.form.name.touched),r(5),l("ngIf",o.form.email.invalid&&o.form.email.touched),r(5),l("ngIf",o.form.phone.invalid&&o.form.phone.touched),r(5),l("ngIf",o.form.message.invalid&&o.form.message.touched),r(),l("disabled",o.contactForm.invalid),r(),h(" ",o.editMode?"Update":"Add"," "),r(),l("ngIf",o.editMode),r(2),l("ngIf",o.contactDetails.length>0))},dependencies:[V,z,G,B,W,U,$,J,Z,q,D,O,L,j,H],styles:["mat-icon[_ngcontent-%COMP%]{margin-right:8px}button[_ngcontent-%COMP%]{display:flex}.contact-list[_ngcontent-%COMP%]{margin-top:50px}.contact-form[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif}.port-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:#d9534f;font-size:.9em;margin-top:5px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-submit[_ngcontent-%COMP%]:hover:enabled{background-color:#0056b3}.btn-cancel[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;margin-top:10px;transition:background-color .3s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}return t})();var Ue=[{path:"",redirectTo:"/admin-home",pathMatch:"full"},{path:"admin-home",component:oe,canActivate:[re]},{path:"contact",component:ae}],le=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[Q.forChild(Ue),Q]})}return t})();var gt=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275mod=N({type:t});static \u0275inj=k({imports:[Y,le,te,ie,ne,ee]})}return t})();export{gt as AdminModule};
